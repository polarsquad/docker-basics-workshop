<!DOCTYPE HTML>

<html>

<head>
	<title>Publishing a Docker image &middot; Docker Basics Workshop</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	
	
	
	<meta http-equiv="content-language" content="en-us" />
	<meta name="generator" content="Hugo 0.74.2" />
	<link rel="stylesheet" href="https://polarsquad.github.io/docker-basics-workshop/css/index.css">
	<link rel="apple-touch-icon" href="https://polarsquad.github.io/docker-basics-workshop/apple-touch-icon.png">
	<link rel="shortcut icon" href="https://polarsquad.github.io/docker-basics-workshop/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
	 crossorigin="anonymous">
</head>
	<body>
		<div class="Wrapper">
			<div class="Container">
				<div class="Header">
  <a href="https://polarsquad.github.io/docker-basics-workshop/">
	<div class="Title center">
		
			<img alt="Docker Basics Workshop Logo" src="https://polarsquad.github.io/docker-basics-workshop/290x132_PolarSquad_logo.png" height="140" />
		
		<span class="text">Docker Basics Workshop</span>
		<span class="subtext"></span>
	</div>
  </a>
</div>

				<div class="Content-wrapper">
					<div class="Sidebar">
	<div class="Menu">
		<div class="item">
			<a href="https://polarsquad.github.io/docker-basics-workshop/">Home</a>
		</div>
		
			
		
			
				<div class="item">
					<a href="https://polarsquad.github.io/docker-basics-workshop/02-preparation/">Preparation</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://polarsquad.github.io/docker-basics-workshop/03-running-your-first-app/">Running your first Docker app</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://polarsquad.github.io/docker-basics-workshop/04-managing-containers/">Managing Docker containers</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://polarsquad.github.io/docker-basics-workshop/05-building-your-first-app/">Building your first Docker app</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://polarsquad.github.io/docker-basics-workshop/06-publishing-images/">Publishing a Docker image</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://polarsquad.github.io/docker-basics-workshop/07-volumes/">Mounting files</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://polarsquad.github.io/docker-basics-workshop/08-docker-networking/">Docker networking</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://polarsquad.github.io/docker-basics-workshop/09-docker-compose/">Docker Compose</a>
				</div>
			
		
			
		
			
		
			
		
	</div>
</div>

					<div class="Content">
						
	<div class="Page" id="">
		<h1>Publishing a Docker image</h1>
		<p>Now that we have our own Docker image, let&rsquo;s look into how we can share it.</p>
<p>Docker images can be published to registries.
Most common registry is Docker Hub, where you can host both public and private Docker images.
You can also get private Docker registries from providers such as AWS, Azure, and Google Cloud,
or host your own registry.</p>
<p>The registry name is part of the Docker name.
For example, if we hosted our own private registry in address <code>registry.example.com</code>,
then our Docker images in that address would have names such as
<code>registry.example.com/myapp</code>, <code>registry.example.com/myapp2</code>, <code>registry.example.com/myorg/myapp</code> etc.</p>
<p>Docker Hub hosted images hide the registry name from the image name.
Their actual names would be like this.</p>
<ul>
<li><code>ubuntu</code> is <code>registry.hub.docker.com/_/ubuntu</code></li>
<li><code>nginx</code> is <code>registry.hub.docker.com/_/nginx</code></li>
<li><code>someuser/someapp</code> is <code>registry.hub.docker.com/someuser/someapp</code></li>
</ul>
<p>For this exercise, let&rsquo;s host our own local registry to simulate a custom registry for the app we created in the last section.</p>
<pre><code>$ docker run --rm -d -p 5000:5000 --name registry registry:2
</code></pre>
<p>Before we can push our app, we need to re-tag it to include the registry name.</p>
<pre><code>$ docker tag myapp localhost:5000/myapp
$ docker images localhost:5000/myapp
REPOSITORY              TAG       IMAGE ID        CREATED          SIZE
localhost:5000/myapp    latest    9415036e1386    25 minutes ago   131MB
</code></pre>
<p>Now we can push the image.</p>
<pre><code>$ docker push localhost:5000/myapp
The push refers to repository [localhost:5000/myapp]
ea4105421e40: Pushed 
b413a7b68cc8: Pushed 
7113e6f202c2: Pushed 
0877695240f0: Pushed 
27a216ffe825: Pushed 
9e9d3c3a7458: Pushed 
7604c8714555: Pushed 
adcb570ae9ac: Pushed 
latest: digest: sha256:dc97f7c1d2f642fdcc1ed89df29da3147c95acd37647ac0fc26556b862b665f9 size: 1984
</code></pre>
<p>Let&rsquo;s see if we can pull the image back from the registry.</p>
<pre><code>$ docker image rm localhost:5000/myapp
$ docker image rm myapp
$ docker pull localhost:5000/myapp
Using default tag: latest
latest: Pulling from myapp
38e2e6cd5626: Already exists 
705054bc3f5b: Already exists 
c7051e069564: Already exists 
7308e914506c: Already exists 
39f5794675c7: Pull complete 
7803fc71e96f: Pull complete 
90379ee10948: Pull complete 
e0eba736f7d3: Pull complete 
Digest: sha256:dc97f7c1d2f642fdcc1ed89df29da3147c95acd37647ac0fc26556b862b665f9
Status: Downloaded newer image for localhost:5000/myapp:latest
$ docker images localhost:5000/myapp
REPOSITORY             TAG       IMAGE ID       CREATED          SIZE
localhost:5000/myapp   latest    9415036e1386   39 minutes ago   131MB
</code></pre>
<p>Brilliant! Let&rsquo;s re-tag the image to <code>myapp</code> and clean up the resources.</p>
<pre><code>$ docker tag localhost:5000/myapp myapp
$ docker stop registry
</code></pre>
</div>

						<div class="Footer">
	<p>Made with ❤️ for Developers by Polar Squad. Content on this site is licensed under a Creative Commons license</p>
</div>
<script src="https://polarsquad.github.io/docker-basics-workshop/js/index.js"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-xxxx-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

					</div>
				</div>
		</div>
	</body>
</html>
